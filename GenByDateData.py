#!/usr/bin/env python3.7
#coding:utf-8

# Daten aus den t√§glichen Berichten des RKI
import time
from matplotlib import pyplot as plt
import numpy as np

import json

class GenByDateOfOnset(object):
	def __init__(self):
		self.byDateOfReporting = self.GenerateData()
		self.dates = self.byDateOfReporting
				
	def GenerateData(self):
		daten = {}
		daten200304_beign = {200123:2,200124:1,200125:1,200127:2,200128:1,200129:1,200130:1,200131:1,200202:2,200203:1,200216:2,200217:2,200218:1,200219:1,200220:5,200221:3,200222:6,200223:6,200224:6,200225:16,200226:15,200227:6,200228:6,200229:4,200301:2,200302:1}
		daten200304_meldung = {200203:1,200211:2,200227:4,200228:13,200229:5,200301:14,200302:13,200303:1}
		daten200304_symptoms = {"symtoms_n":108,"no_symtmom":7,"cough_symtom":64}
		daten[200304] = {"bydate":daten200304_beign,"bydate_n":148-53,"bymeldung":daten200304_meldung,"bymeldung_n":53,"labtested_n":262,"symptoms":daten200304_symptoms}#,"alter":daten200304_alter,"alter_n":(147,)}
		
		daten200305_begin = {200225:17,200226:16,200227:9,200228:9,200229:9,200301:8,200302:3}
		daten200305_meldung = {200228:14,200301:16,200302:14,200303:18,200304:5}
		daten200305_symptoms = {"symtoms_n":134,"no_symtmom":8,"cough_symtom":78}
		daten[200305] = {"bydate":daten200305_begin,"bydate_n":197-81,"bymeldung":daten200305_meldung,"bymeldung_n":81,"labtested_n":400,"symptoms":daten200305_symptoms}
		
		daten200306_begin = {200217:3,200218:2,200219:2,200220:6,200221:5,200222:8,200223:9,200224:11,200225:19,200226:23,200227:15,200228:16,200229:15,200301:13,200302:10,200304:1}
		daten200306_meldung = {200226:1,200228:11,200301:15,200302:15,200303:14,200304:46,200305:12}
		daten200306_symptoms = {"symtoms_n":201,"no_symtmom":19,"cough_symtom":118}
		daten[200306] = {"bydate":daten200306_begin,"bymeldung":daten200306_meldung,"labtested_n":639,"symptoms":daten200306_symptoms}
		
		daten200307_begin = {200224:14,200225:21,200227:17,200228:18,200229:17,200301:18,200302:16,200303:4,200304:5,200305:5}
		daten200307_meldung = {200227:4,200303:14,200304:46,200305:55,200306:7}
		daten200307_symptoms = {"symtoms_n":247,"no_symtmom":11,"cough_symtom":146}
		daten[200307] = {"bydate":daten200307_begin,"bymeldung":daten200307_meldung,"labtested_n":795,"symptoms":daten200307_symptoms}
		
		daten200308_begin = {200224:16,200225:21,200226:24,200227:21,200228:20,200229:22,200301:21,200302:23,200303:8,200304:9,200305:7,200306:1}
		daten200308_meldung = {200303:14,200304:53,200305:63,200306:22}
		daten200307_symptoms = {"symtoms_n":297,"no_symtmom":12,"cough_symtom":172,"pneumonia":6}
		daten[200308] = {"bydate":daten200308_begin,"bymeldung":daten200308_meldung,"labtested_n":902,"symptoms":daten200307_symptoms}
		
		daten200309_begin = {200216:2,200217:3,200218:2,200219:3,200220:6,200221:6,200222:7,200223:10,200224:18,200225:22,200226:26,200227:24,200228:26,200229:24,200301:23,200302:30,200303:12,200304:14,200305:8,200306:1,200307:1}
		daten200309_meldung = {200226:1,200227:4,200228:10,200229:4,200301:15,200302:13,200303:13,200304:48,200305:62,200306:29,200307:12,200308:18}
		daten200309_symptoms = {"symptoms_n":346,"no_symtmom":13,"cough_symtom":202,"pneumonia":7}
		daten[200309] = {"bydate":daten200309_begin,"bymeldung":daten200309_meldung,"labtested_n":1139,"symptoms":daten200309_symptoms,"scaling":80}
		
		daten200310_begin = {200216:2,200217:4,200218:2,200219:3,200220:7,200221:6,200222:8,200223:10,200224:19,200225:23,200226:30,200227:24,200228:33,200229:32,200301:25,200302:38,200303:20,200304:19,200305:14,200306:4,200307:2}
		daten200310_meldung = {200226:1,200227:4,200228:9,200229:4,200301:14,200302:13,200303:11,200304:48,200305:61,200306:56,200307:50,200308:25,200309:16}
		daten200310_symptoms = {"symptoms_n":420,"no_symtmom":17,"cough_symtom":202,"pneumonia":9}
		daten[200310] = {"bydate":daten200310_begin,"bymeldung":daten200310_meldung,"labtested_n":1296,"symptoms":daten200310_symptoms,"scaling":80}
		
		daten200311_begin = {200216:2,200217:4,200218:2,200219:3,200220:9,200221:8,200222:8,200223:10,200224:21,200225:30,200226:40,200227:31,200228:38,200229:37,200301:36,200302:46,200303:40,200304:58,200305:36,200306:37,200307:31,200308:17,200309:7,200310:3}
		daten200311_meldung = {200226:1,200227:4,200228:9,200229:4,200301:14,200302:14,200303:13,200304:46,200305:59,200306:71,200307:49,200308:31,200309:104,200310:95,200311:1}
		daten200311_symptoms = {"symptoms_n":737,"no_symtmom":49,"cough_symtom":411,"pneumonia":12}
		daten[200311] = {"bydate":daten200311_begin,"bymeldung":daten200311_meldung,"labtested_n":1567,"transmitted":654,"symptoms":daten200311_symptoms,"deaths":3,"scaling":120}
		
		daten200312_begin = {200219:3,200220:9,200221:8,200222:10,200223:12,200224:27,200225:41,200226:60,200227:47,200228:54,200229:54,200301:51,200302:72,200303:61,200304:98,200305:72,200306:83,200307:106,200308:101,200309:43,200310:17,200311:5}
		daten200312_meldung = {200226:2,200227:5,200228:9,200229:3,200301:14,200302:13,200303:15,200304:52,200305:51,200306:79,200307:38,200308:31,200309:122,200310:184,200311:193,200312:9}
		daten200312_symptoms = {"symptoms_n":1317,"no_symtmom":79,"cough_symtom":737}
		daten[200312] = {"bydate":daten200312_begin,"bymeldung":daten200312_meldung,"labtested_n":2369,"transmitted":1089,"symptoms":daten200312_symptoms,"deaths":5,"scaling":250}
		
		daten200313_begin = {200219:3,200220:10,200221:8,200222:10,200223:13,200224:29,200225:44,200226:65,200227:53,200228:63,200229:63,200301:58,200302:89,200303:79,200304:122,200305:106,200306:120,200307:164,200308:172,200309:123,200310:78,200311:24}
		daten200313_meldung = {200226:1,200227:4,200228:9,200229:4,200301:13,200302:13,200303:16,200304:54,200305:43,200306:78,200307:34,200308:26,200309:115,200310:181,200311:228,200312:208,200313:14}
		daten200313_symptoms = {"symptoms_n":1855,"no_symtmom":100,"cough_symtom":1068}
		daten[200313] = {"bydate":daten200313_begin,"bymeldung":daten200313_meldung,"labtested_n":3062,"symptoms":daten200313_symptoms,"deaths":5,"scaling":280}
		
		daten200314_begin = {200223:13,200224:32,200225:49,200226:66,200227:62,200228:73,200229:72,200301:75,200302:103,200303:96,200304:139,200305:120,200306:155,200307:208,200308:247,200309:193,200310:169,200311:94,200312:19}
		daten200314_meldung = {200226:2,200227:5,200228:9,200229:4,200301:13,200302:12,200303:15,200304:46,200305:41,200306:79,200307:34,200308:25,200309:110,200310:187,200311:246,200312:291,200313:239,200314:2,}
		daten200314_symptoms = {"symptoms_n":2497,"no_symtmom":137,"cough_symtom":1432}
		daten[200314] = {"bydate":daten200314_begin,"bymeldung":daten200314_meldung,"labtested_n":3795,"symptoms":daten200314_symptoms,"deaths":8,"scaling":400}
		
		daten200315_begin = {200223:17,200224:33,200225:55,200226:74,200227:69,200228:84,200229:83,200301:81,200302:111,200303:113,200304:157,200305:141,200306:166,200307:233,200308:299,200309:249,200310:223,200311:162,200312:58,200313:20,200314:6}
		daten200315_meldung = {200225:1,200226:2,200227:3,200228:9,200229:4,200301:14,200302:11,200303:13,200304:44,200305:39,200306:60,200307:35,200308:26,200309:98,200310:195,200311:241,200312:314,200313:356,200314:220}
		daten200315_symptoms = {"symptoms_n":3024,"no_symtmom":161,"cough_symtom":1710}
		daten[200315] = {"bydate":daten200315_begin,"bymeldung":daten200315_meldung,"labtested_n":4195,"symptoms":daten200315_symptoms,"deaths":12,"scaling":450}
		
		daten200316_begin = {200225:57,200226:83,200227:75,200228:90,200229:86,200301:89,200302:118,200303:121,200304:178,200305:159,200306:193,200307:263,200308:345,200309:323,200310:334,200311:272,200312:135,200313:54,200314:15,200315:4}
		daten200316_meldung = {200226:4,200227:5,200228:10,200229:4,200301:13,200302:9,200303:14,200304:42,200305:38,200306:53,200307:34,200308:26,200309:94,200310:189,200311:252,200312:330,200313:486,200314:415,200315:283,200316:24}
		daten200316_symptoms = {"symptoms_n":3862,"no_symtmom":199,"cough_symtom":2139}
		daten[200316] = {"bydate":daten200316_begin,"bymeldung":daten200316_meldung,"labtested_n":6012,"symptoms":daten200316_symptoms,"deaths":12,"scaling":600}
		
		daten200317_begin = {200224:32,200225:58,200226:88,200227:74,200228:97,200229:88,200301:92,200302:127,200303:126,200304:198,200305:175,200306:234,200307:314,200308:393,200309:428,200310:489,200311:447,200312:280,200313:162,200314:69,200315:13}
		daten200317_meldung = {200226:3,200227:6,200228:11,200229:2,200301:12,200302:10,200303:11,200304:41,200305:39,200306:52,200307:34,200308:26,200309:86,200310:182,200311:233,200312:336,200313:524,200314:453,200315:393,200316:551,200317:16}
		daten200317_symptoms = {"symptoms_n":5122,"no_symtmom":254,"cough_symtom":2870}
		daten[200317] = {"bydate":daten200317_begin,"bymeldung":daten200317_meldung,"labtested_n":7156,"symptoms":daten200317_symptoms,"deaths":12,"scaling":800}
		
		daten200318_begin = {200226:86,200227:75,200228:98,200229:90,200301:93,200302:132,200303:128,200304:211,200305:179,200306:254,200307:335,200308:418,200309:469,200310:532,200311:531,200312:368,200313:238,200314:114,200315:38,200316:13}
		daten200318_meldung = {200226:4,200227:6,200228:10,200229:6,200301:12,200302:12,200303:16,200304:45,200305:40,200306:53,200307:34,200308:26,200309:86,200310:187,200311:241,200312:356,200313:561,200314:551,200315:418,200316:622,200317:293}
		daten200318_symptoms = {"symptoms_n":5788,"no_symtmom":309,"cough_symtom":3197}
		daten[200318] = {"bydate":daten200318_begin,"bymeldung":daten200318_meldung,"labtested_n":8192,"symptoms":daten200318_symptoms,"deaths":12,"scaling":900}
		
		daten200319_begin = {200225:58,200226:89,200227:78,200228:101,200229:93,200301:94,200302:132,200303:129,200304:213,200305:180,200306:253,200307:338,200308:420,200309:468,200310:533,200311:533,200312:367,200313:239,200314:114,200315:41,200316:14}
		daten200319_meldung = {200226:3,200227:4,200228:10,200229:5,200301:11,200302:11,200303:13,200304:44,200305:41,200306:55,200307:31,200308:24,200309:86,200310:183,200311:237,200312:359,200313:558,200314:550,200315:414,200316:619,200317:291}
		daten200319_symptoms = {"symptoms_n":7719,"no_symtmom":372,"cough_symtom":4247}
		daten[200319] = {"bydate":daten200319_begin,"bymeldung":daten200319_meldung,"labtested_n":10999,"symptoms":daten200319_symptoms,"deaths":20,"scaling":900}
		
		daten200320_begin = {200224:35,200225:64,200226:98,200227:83,200228:111,200229:106,200301:103,200302:159,200303:151,200304:234,200305:207,200306:316,200307:415,200308:536,200309:658,200310:796,200311:923,200312:786,200313:713,200314:470,200315:359,200316:255,200317:84,200318:19,200319:7}
		daten200320_meldung = {200227:4,200228:8,200229:8,200301:9,200302:11,200303:15,200304:40,200305:37,200306:48,200307:30,200308:23,200309:90,200310:154,200311:221,200312:319,200313:531,200314:528,200315:386,200316:752,200317:1235,200318:1134,200319:547}
		daten200320_symptoms = {"symptoms_n":9725,"no_symtmom":456,"cough_symtom":5397}
		daten[200320] = {"bydate":daten200320_begin,"bymeldung":daten200320_meldung,"labtested_n":13957,"symptoms":daten200320_symptoms,"deaths":31,"scaling":1400}
		
		daten200321_begin = {200226:100,200227:84,200228:109,200229:104,200301:104,200302:162,200303:159,200304:235,200305:215,200306:333,200307:433,200308:582,200309:722,200310:884,200311:1060,200312:954,200313:903,200314:671,200315:567,200316:442,200317:201, 200318:81,200319:17,200320:3}
		daten200321_meldung = {200227:6,200228:14,200229:8,200301:11,200302:11,200303:15,200304:40,200305:40,200306:45,200307:35,200308:27,200309:83,200310:157,200311:215,200312:321,200313:526,200314:513,200315:395,200316:769,200317:1232,200318:1278,200319:999,200320:540}
		daten200321_symptoms = {"symptoms_n":11663,"no_symtmom":510,"cough_symtom":6433}
		daten[200321] = {"bydate":daten200321_begin,"bymeldung":daten200321_meldung,"labtested_n":16662,"symptoms":daten200321_symptoms,"deaths":47,"scaling":1600}
		
		daten200322_begin = {200301:106,200302:163,200303:157,200304:236,200305:219,200306:334,200307:445,200308:598,200309:754,200310:928,200311:1117,200312:1039,200313:997,200314:801,200315:678,200316:581,200317:307,200318:139,200319:51,200320:22,200321:3}
		daten200322_meldung = {200301:11,200302:14,200303:19,200304:40,200305:41,200306:54,200307:36,200308:20,200309:80,200310:158,200311:219,200312:320,200313:526,200314:512,200315:396,200316:760,200317:1234,200318:1325,200319:1145,200320:930,200321:424}
		daten200322_symptoms = {"symptoms_n":12951,"no_symtmom":811,"cough_symtom":7034}
		daten[200322] = {"bydate":daten200322_begin,"bymeldung":daten200322_meldung,"labtested_n":18610,"symptoms":daten200322_symptoms,"deaths":55,"scaling":1800}
		
		# 1st counting													 200301:118,200302:173,200303:169,200304:252,200305:243,200306:366,200307:493,200308:651,200309:831,
		# 2nd counting
		# 200224:41,200225:69,200226:113,200227:98,200228:126,200229:113,200301:120,200302:178,200303:170,200304:255,200305:242,200306:367,
		# 200227:12,200228:6,200229:7,200301:14,200302:8,200303:22,200304:40,200305:47,200306:57,
		
		daten200323_begin = {200224:41,200225:69,200226:113,200227:98,200228:126,200229:113,200301:119,200302:175,200303:169,200304:253,200305:243,200306:366,200307:493,200308:651,200309:831,200310:1044,200311:1264,200312:1199,200313:1218,200314:1089,200315:909,200316:825,200317:488,200318:307,200319:131,200320:40}
		daten200323_meldung = {200227:12,200228:6,200229:7,200301:13,200302:9,200303:20,200304:38,200305:45,200306:53,200307:31,200308:17,200309:89,200310:165,200311:207,200312:311,200313:497,200314:522,200315:406,200316:754,200317:1235,200318:1408,200319:1615,200320:1355,200321:1006,200322:302}
		daten200323_symptoms = {"symptoms_n":15859,"no_symtmom":604,"cough_symtom":8682,"hospitalized":1404}
		daten[200323] = {"bydate":daten200323_begin,"bymeldung":daten200323_meldung,"labtested_n":22672,"symptoms":daten200323_symptoms,"deaths":86,"scaling":2000}
		
		daten200324_begin = {200304:267,200305:248,200306:396,200307:518,200308:687,200309:925,200310:1150,200311:1435,200312:1379,200313:1448,200314:1379,200315:1205,200316:1184,200317:793,200318:566,200319:299,200320:145,200321:48}
		daten200324_meldung = {200304:37,200305:51,200306:53,200307:34,200308:24,200309:87,200310:161,200311:201,200312:296,200313:486,200314:524,200315:404,200316:743,200317:1239,200318:1408,200319:1614,200320:1750,200321:1411,200322:1002,200323:573}
		daten200324_symptoms = {"symptoms_n":19285,"no_symtmom":604,"cough_symtom":10504,"hospitalized":1783,"pneumonia":336}
		daten[200324] = {"bydate":daten200324_begin,"bymeldung":daten200324_meldung,"labtested_n":27436,"symptoms":daten200324_symptoms,"deaths":114,"recovered":5600,"scaling":2500}
		
		daten200325_begin = {200303:180,200304:271,200305:256,200306:408,200307:548,200308:725,200309:994,200310:1245,200311:1562,200312:1537,200313:1684,200314:1635,200315:1440,200316:1549,200317:1095,200318:857,200319:492,200320:297,200321:152,200322:51,200323:28,200324:3}
		daten200325_meldung = {200303:15,200304:38,200305:43,200306:56,200307:28,200308:26,200309:86,200310:152,200311:193,200312:296,200313:476,200314:510,200315:386,200316:723,200317:1179,200318:1379,200319:1554,200320:1716,200321:1423,200322:1029,200323:1303,200324:770}
		daten200325_symptoms = {"symptoms_n":22581,"no_symtmom":757,"cough_symtom":12208,"hospitalized":2135,"pneumonia":336}
		daten[200325] = {"bydate":daten200325_begin,"bymeldung":daten200325_meldung,"labtested_n":31554,"symptoms":daten200325_symptoms,"deaths":149,"recovered":5600,"scaling":2500}
		
		# 1st counting																					200304:260,200305:260,200306:422,200307:552,200308:747,200309:1040
		# 2nd counting
		# 200224:34,200225:71,200226:110,200227:93,200228:118,200229:110,200301:121,200302:183,200303:186,200304:265,200305:265,200306:420,200307:561,200308:753,200309:1047,
		# 200224:14,200225:0,200226:0,200227:20,200228:17,200229:6,200301:17,200302:23,200303:14,200304:37,200305:37,200306:68,200307:29,200308:34,200309:87,
		
		daten200326_begin = {200224:34,200225:71,200226:110,200227:93,200228:118,200229:110,200301:121,200302:183,200303:186,200304:260,200305:260,200306:422,200307:552,200308:747,200309:1040,200310:1328,200311:1645,200312:1669,200313:1913,200314:1836,200315:1693,200316:1896,200317:1397, 200318:1141,200319:715,200320:540,200321:349,200322:240,200323:134,200324:28}
		daten200326_meldung = {200224:14,200225:0,200226:0,200227:20,200228:17,200229:6,200301:17,200302:23,200303:14,200304:36,200305:41,200306:65,200307:33,200308:41,200309:93,200310:154,200311:182,200312:288,200313:475,200314:507,200315:402,200316:715,200317:1161, 200318:1356,200319:1490,200320:1612,200321:1369,200322:970,200323:1344,200324:1828,200325:1068}
		daten200326_symptoms = {"symptoms_n":26250,"no_symtmom":870,"cough_symtom":14202,"hospitalized":2664,"pneumonia":429}
		daten[200326] = {"bydate":daten200326_begin,"bymeldung":daten200326_meldung,"labtested_n":36508,"symptoms":daten200326_symptoms,"deaths":198,"recovered":5900,"scaling":4000}
		
		daten200327_begin = {200304:284,200305:272,200306:446,200307:578,200308:799,200309:1101,200310:1414,200311:1756,200312:1767,200313:2102,200314:2051,200315:1911,200316:2231,200317:1730,200318:1469,200319:1027,200320:854,200321:608,200322:409,200323:331,200324:110,200325:48}
		daten200327_meldung = {200304:36,200305:52,200306:69,200307:26,200308:22,200309:92,200310:162,200311:199,200312:291,200313:479,200314:490,200315:394,200316:700,200317:1127,200318:1303,200319:1455,200320:1569,200321:1332,200322:931,200323:1344,200324:2051,200325:2261,200326:1160}
		daten200327_symptoms = {"symptoms_n":30393,"no_symtmom":957,"cough_symtom":16316,"hospitalized":3245,"pneumonia":519}
		daten[200327] = {"bydate":daten200327_begin,"bymeldung":daten200327_meldung,"labtested_n":42288,"symptoms":daten200327_symptoms,"deaths":253,"recovered":7600,"scaling":5000}
		
		daten200328_begin = {200304:285,200305:289,200306:473,200307:606,200308:822,200309:1152,200310:1478,200311:1864,200312:1928,200313:2282,200314:2268,200315:2153,200316:2599,200317:2062,200318:1823,200319:1410,200320:1263,200321:918,200322:643, 200323:611,200324:317,200325:179,200326:41}
		daten200328_meldung = {200304:41,200305:46,200306:60,200307:18,200308:14,200309:92,200310:161,200311:193,200312:290,200313:477,200314:473,200315:391,200316:698,200317:1097,200318:1276,200319:1478,200320:1588,200321:1318,200322:881, 200323:1271,200324:1887,200325:2342,200326:2507,200327:1180}
		daten200328_symptoms = {"symptoms_n":35011,"no_symtmom":1062,"cough_symtom":18768,"hospitalized":3906,"pneumonia":626}
		daten[200328] = {"bydate":daten200328_begin,"bymeldung":daten200328_meldung,"labtested_n":48582,"symptoms":daten200328_symptoms,"deaths":325,"recovered":9600,"scaling":5000}
		
		daten200329_begin = {200227:92,200228:121,200229:121,200301:121,200302:201,200303:207,200304:282,200305:282,200306:466,200307:593,200308:817,200309:1162,200310:1484,200311:1887,200312:1974,200313:2348,200314:2325,200315:2232,200316:2756,200317:2192,200318:1962, 200319:1542,200320:1467,200321:1082, 200322:800,200323:840,200324:483,200325:311,200326:115,200327:17,200328:6}
		daten200329_meldung = {200227:23,200228:11,200229:11,200301:6,200302:12,200303:6,200304:23,200305:34,200306:63,200307:34,200308:10,200309:87,200310:156,200311:202,200312:281,200313:466,200314:466,200315:397,200316:708,200317:1088,200318:1277, 200319:1467,200320:1577,200321:1323,200322:897,200323:1295, 200324:1865,200325:2330,200326:2514,200327:2227,200328:690}
		daten200329_symptoms = {"symptoms_n":37714,"no_symtmom":1115,"cough_symtom":20153,"hospitalized":4338,"pneumonia":685}
		daten[200329] = {"bydate":daten200329_begin,"bymeldung":daten200329_meldung,"labtested_n":52547,"symptoms":daten200329_symptoms,"deaths":389,"recovered":11500,"scaling":5000}
		
		daten200330_begin = {200227:107,200228:144,200229:136,200301:140,200302:221,200303:206,200304:298,200305:298,200306:485,200307:614,200308:838,200309:1180,200310:1522,200311:1911,200312:2029,200313:2433,200314:2437,200315:2334,200316:2925,200317:2370,200318:2154, 200319:1735,200320:1691,200321:1272, 200322:993,200323:1044,200324:677,200325:500,200326:247,200327:70,200328:22,200329:11}
		daten200330_meldung = {200228:18,200229:11,200301:18,200302:18,200303:30,200304:37,200305:37,200306:52,200307:22,200308:15,200309:88,200310:154,200311:202,200312:301,200313:463,200314:470,200315:382,200316:702,200317:1084,200318:1275, 200319:1455,200320:1569,200321:1323,200322:878,200323:1271, 200324:1837,200325:2282,200326:2550,200327:2778,200328:1918,200329:574}
		daten200330_symptoms = {"symptoms_n":40931,"cough_symtom":21716,"hospitalized":4904,"pneumonia":771}
		daten[200330] = {"bydate":daten200330_begin,"bymeldung":daten200330_meldung,"labtested_n":57298,"symptoms":daten200330_symptoms,"deaths":455,"recovered":13500,"scaling":5000}
		
		# taken out 200227:116,
		daten200331_begin = {200228:135,200229:126,200301:137,200302:206,200303:210,200304:298,200305:310,200306:490,200307:628,200308:839,200309:1203,200310:1544,200311:1962,200312:2084,200313:2490,200314:2525,200315:2460,200316:3085,200317:2529,200318:2360, 200319:1916,200320:1939,200321:1483, 200322:1161,200323:1333,200324:881,200325:708,200326:436,200327:195,200328:65,200329:22,200330:7}
		daten200331_meldung = {200227:12,200228:13,200229:8,200301:8,200302:12,200303:4,200304:31,200305:30,200306:31,200307:19,200308:15,200309:80,200310:149,200311:191,200312:299,200313:468,200314:479,200315:387,200316:678,200317:1084,200318:1257, 200319:1444,200320:1582,200321:1314,200322:873,200323:1234, 200324:1805,200325:2235,200326:2449,200327:2844,200328:2360,200329:1430,200330:694}
		daten200331_symptoms = {"symtoms_n":44323,"cough_symtom":.53*44323,"hospitalized":4623,"pneumonia":867}
		daten[200331] = {"bydate":daten200331_begin,"bymeldung":daten200331_meldung,"labtested_n":61913,"symptoms":daten200331_symptoms,"deaths":583,"recovered":16100,"scaling":7000}
		
		daten200401_begin = {200226:123,200227:105,200228:132,200229:132,200301:140,200302:219,200303:211,200304:298,200305:307,200306:482,200307:640,200308:860,200309:1228,200310:1588,200311:2006,200312:2137,200313:2613,200314:2627,200315:2583,200316:3278}
		daten200401_meldung = {200227:123-105,200228:149-132,200229:149-132,200301:167-140,200302:237-219,200303:8,200304:44,200305:44,200306:60,200307:27,200308:26,200309:86,200310:1737-1588,200311:205,200312:300,200313:3073-2613,200314:3102-2627,200315:2971-2583,200316:3965-3278}
		daten200401_begin.update({200317:2730,200318:2591,200319:2130,200320:2269,200321:1765,200322:1363,200323:1648,200324:1158,200325:990,200326:675,200327:412,200328:230,200329:98,200330:39,200331:10})
		daten200401_meldung.update({200317:1133,200318:1301,200319:3563-2130,200320:3804-2269,200321:3044-1765,200322:2225-1363,200323:2868-1648,200324:2898-1158,200325:2242,200326:2325,200327:2690,200328:2171,200329:1440,200330:1726,200331:1216})
		daten200401_symptoms = {"symtoms_n":48767,"cough_symtom":.53*48767,"hospitalized":6382,"pneumonia":992}
		daten[200401] = {"bydate":daten200401_begin,"bymeldung":daten200401_meldung,"labtested_n":67366,"symptoms":daten200401_symptoms,"deaths":732,"recovered":18700,"scaling":7000}
		
		daten200402_begin = {200304:307,200305:327,200306:498,200307:654,200308:871,200309:1270,200310:1623,200311:2037,200312:2182,200313:2679,200314:2705,200315:2679,200316:3425,200317:2881,200318:2773,200319:2317,200320:2503,200321:1975,200322:1524, 200323:1913,200324:1421,200325:1250,200326:934,200327:675,200328:498,200329:317,200330:177,200331:53}
		daten200402_meldung = {200304:41,200305:31,200306:52,200307:26,200308:11,200309:83,200310:129,200311:207,200312:280,200313:456,200314:472,200315:384,200316:689,200317:1125,200318:1290,200319:1393,200320:1518,200321:1254,200322:850,200323:1207,200324:1756, 200325:2093,200326:2284,200327:2569,200328:2078,200329:1388,200330:1798,200331:2611,200401:1404}
		daten200402_symptoms = {"symptoms_n":53351,"cough_symtom":.53*53351,"hospitalized":7216,"pneumonia":1132}
		daten[200402] = {"bydate":daten200402_begin,"bymeldung":daten200402_meldung,"labtested_n":73522,"symptoms":daten200402_symptoms,"deaths":872,"recovered":21400,"scaling":7000}
	
	# 360k Tests in der Woche, ~8% positiv
		daten200403_begin = {200304:296,200305:313,200306:495,200307:665,200308:876,200309:1291,200310:1643,200311:2081,200312:2235,200313:2752,200314:2781,200315:2769,200316:3565,200317:2997,200318:2951,200319:2496,200320:2707,200321:2161,200322:1717,200323:2235, 200324:1655,200325:1530,200326:1211,200327:967,200328:773,200329:523,200330:455,200331:188,200401:45}
		daten200403_meldung = {200304:45,200305:40,200306:57,200307:23,200308:17,200309:85,200310:137,200311:188,200312:273,200313:455,200314:455,200315:347,200316:666,200317:1120,200318:1263,200319:1365,200320:1484,200321:1211,200322:819,200323:1165, 200324:1700,200325:2030,200326:2167,200327:2479,200328:1974,200329:1325,200330:1785,200331:2701,200401:2895,200402:1309}
		daten200403_symptoms = {"symptoms_n":58209,"cough_symtom":.53*58209,"hospitalized":8055,"pneumonia":1250}
		daten[200403] = {"bydate":daten200403_begin,"bymeldung":daten200403_meldung,"labtested_n":79696,"symptoms":daten200403_symptoms,"deaths":1017,"recovered":23800,"scaling":7000}
		
		daten200404_begin = {200306:494,200307:661,200308:880,200309:1310,200310:1663,200311:2106,200312:2273,200313:2787,200314:2832,200315:2819,200316:3654,200317:3094,200318:3068,200319:2618,200320:2886,200321:2318,200322:1858,200323:2463, 200324:1847,200325:1794,200326:1478,200327:1280,200328:1066,200329:782,200330:750,200331:408,200401:226,200402:76,200403:17}
		daten200404_meldung = {200306:58,200307:33,200308:26,200309:96,200310:154,200311:206,200312:283,200313:463,200314:450,200315:379,200316:671,200317:1108,200318:1257,200319:1349,200320:1439,200321:1194,200322:792,200323:1172, 200324:1649,200325:1926,200326:2098,200327:2414,200328:1916,200329:1279,200330:1718,200331:2547,200401:2799,200402:3013,200403:1263}
		daten200404_symptoms = {"symptoms_n":62969,"cough_symtom":.53*62969,"hospitalized":8803,"pneumonia":1376}
		daten[200404] = {"bydate":daten200404_begin,"bymeldung":daten200404_meldung,"labtested_n":85778,"symptoms":daten200404_symptoms,"deaths":1158,"recovered":26400,"scaling":7000}
		
		daten200405_begin = {200306:509,200307:669,200308:894,200309:1328,200310:1693,200311:2137,200312:2307,200313:2841,200314:2861,200315:2886,200316:3750,200317:3175,200318:3170,200319:2726,200320:3016,200321:2422,200322:1972,200323:2646,200324:1972, 200325:1972,200326:1723,200327:1538,200328:1338,200329:1004,200330:1039,200331:629,200401:424,200402:200,200403:40}
		daten200405_meldung = {200306:55,200307:30,200308:5,200309:95,200310:144,200311:200,200312:274,200313:444,200314:469,200315:369,200316:669,200317:1099,200318:1239,200319:1323,200320:1418,200321:1173,200322:774,200323:1164, 200324:1628,200325:1922,200326:2052,200327:2371,200328:1872,200329:1263,200330:1697,200331:2571,200401:2831,200402:3265,200403:2856,200404:1183}
		daten200405_symptoms = {"symptoms_n":67328,"cough_symtom":67328*.54,"hospitalized":9550,"pneumonia":1509}
		daten[200405] = {"bydate":daten200405_begin,"bymeldung":daten200405_meldung,"labtested_n":91714,"symptoms":daten200405_symptoms,"deaths":1342,"recovered":28700,"scaling":7000}
		
		# removed: 200228:172,200229:147,200301:177,200302:228,200303:228,200304:317,200305:334, / 200228:28,200229:17,200301:8,200302:17,200303:21,200304:42,200305:42,
		daten200406_begin = {200306:517,200307:682,200308:899,200309:1341,200310:1698,200311:2157,200312:2318,200313:2845,200314:2921,200315:2917, 200316:3797,200317:3214,200318:3219,200319:2773,200320:3121,200321:2492,200322:2055,200323:2777,200324:2072,200325:2093,200326:1821,200327:1651,200328:1481,200329:1111,200330:1226,200331:797,200401:614,200402:389,200403:147,200404:20}
		daten200406_meldung = {200306:55,200307:17,200308:17,200309:85,200310:157,200311:174,200312:285,200313:437,200314:434,200315:365, 200316:679,200317:1088,200318:1245,200319:1329,200320:1411,200321:1173,200322:760,200323:1143,200324:1576,200325:1857,200326:2035,200327:2341,200328:1831,200329:1233,200330:1674,200331:2528,200401:2770,200402:3170,200403:3250,200404:2137,200405:599}
		daten200406_symptoms = {"symptoms_n":70291,"cough_symtom":.52*70291,"hospitalized":10050,"pneumonia":1580}
		daten[200406] = {"bydate":daten200406_begin,"bymeldung":daten200406_meldung,"labtested_n":95391,"symptoms":daten200406_symptoms,"deaths":1434,"recovered":30600,"scaling":7000}
		
		daten200407_begin = {200305:318,200306:506,200307:667,200308:886,200309:1340,200310:1710,200311:2147,200312:2335,200313:2862,200314:2929,200315:2950,200316:3873, 200317:3263,200318:3289,200319:2841,200320:3211,200321:2559,200322:2106,200323:2893,200324:2163,200325:2220,200326:1934,200327:1819,200328:1647,200329:1261,200330:1459,200331:1027,200401:865,200402:610,200403:308,200404:73,200405:21}
		daten200407_meldung = {200305:52,200306:67,200307:37,200308:21,200309:88,200310:146,200311:198,200312:276,200313:448,200314:449,200315:375,200316:656,200317:1094,200318:1230,200319:1313,200320:1402,200321:1163,200322:766,200323:1120,200324:1574,200325:1846,200326:1996,200327:2299,200328:1783,200329:1210,200330:1621,200331:2465,200401:2685,200402:3018,200403:3142,200404:2200,200405:1251,200406:891}
		daten200407_symptoms = {"symptoms_n":73780,"cough_symtom":.52*73780,"hospitalized":10726,"pneumonia":1673}
		daten[200407] = {"bydate":daten200407_begin,"bymeldung":daten200407_meldung,"labtested_n":99225,"symptoms":daten200407_symptoms,"deaths":1607,"recovered":33300,"scaling":7000}
		
		daten200408_begin = {200306:521,200307:680,200308:908,200309:1364,200310:1726,200311:2178,200312:2366,200313:2892,200314:2957,200315:3006,200316:3944,200317:3319,200318:3329,200319:2872,200320:3279,200321:2644,200322:2193,200323:2996, 200324:2262,200325:2347,200326:2054,200327:1960,200328:1831,200329:1409,200330:1721,200331:1225,200401:1151,200402:898,200403:575,200404:258,200405:124,200406:55}
		daten200408_meldung = {200306:54,200307:29,200308:15,200309:90,200310:139,200311:193,200312:273,200313:437,200314:436,200315:367,200316:650,200317:1091,200318:1240,200319:1325,200320:1379,200321:1151,200322:734,200323:1102,200324:1538,200325:1835,200326:1969,200327:2257,200328:1751,200329:1181,200330:1618,200331:2426,200401:2590,200402:2838,200403:2942,200404:1960,200405:1196,200406:1731,200407:1151}
		daten200408_symptoms = {"symptoms_n":77538,"cough_symtom":.52*77538,"hospitalized":11477,"pneumonia":1779}
		daten[200408] = {"bydate":daten200408_begin,"bymeldung":daten200408_meldung,"labtested_n":103228,"symptoms":daten200408_symptoms,"deaths":1861,"recovered":46300,"scaling":7000}
		
		daten200409_begin = {200304:330,200305:335,200306:522,200307:680,200308:906,200309:1374,200310:1724,200311:2182,200312:2369,200313:2931,200314:2980,200315:3034,200316:3980,200317:3350,200318:3414,200319:2941,200320:3365,200321:2729,200322:2241,200323:3113, 200324:2360,200325:2478,200326:2167,200327:2133,200328:2005,200329:1562,200330:1975,200331:1433,200401:1419,200402:1182,200403:892,200404:512,200405:325,200406:271,200407:59,200408:7}
		daten200409_meldung = {200304:25,200305:44,200306:64,200307:20,200308:15,200309:84,200310:148,200311:192,200312:281,200313:429,200314:444,200315:370,200316:660,200317:1079,200318:1212,200319:1305,200320:1364,200321:1128,200322:725,200323:1089, 200324:1512,200325:1793,200326:1917,200327:2212,200328:1685,200329:1142,200330:1552,200331:2311,200401:2497,200402:2749,200403:2862,200404:1808,200405:1148,200406:1704,200407:2301,200408:1079}
		daten200409_symptoms = {"symptoms_n":82187,"cough_symtom":.52*82187,"hospitalized":12268,"pneumonia":1880}
		daten[200409] = {"bydate":daten200409_begin,"bymeldung":daten200409_meldung,"labtested_n":0,"symptoms":daten200409_symptoms,"deaths":2107,"recovered":49900,"scaling":7000}

		
		# daten200403_begin = {}
		# daten200403_meldung = {}
		# daten200403_symptoms = {"symptoms_n":0,"no_symtmom":0,"cough_symtom":0,"hospitalized":0,"pneumonia":0}
		# daten[200403] = {"bydate":daten200403_begin,"bymeldung":daten200403_meldung,"labtested_n":0,"symptoms":daten200403_symptoms,"deaths":0,"recovered":0,"scaling":0}
		
		return daten
		
	def Test(self):
		for m in [1,2,3,4]:	
			for day in range({1:23}.get(m,1),{1:31,2:29,3:31,4:5}[m]+1):
				d = 200000+m*100+day
		
		
				s,s2,l = "%02d.%02d.\t"%(day,m),"",0
				for k in sorted(self.dates.keys()):
					dbydate = self.dates[k]["bydate"].get(d,None)
					dbymeld = self.dates[k]["bymeldung"].get(d,None)
	
					if dbydate != None:
						s2 += "%d\t"%dbydate
					# if bydate != None:
	#					if dbymeld != None:
	#						s2 += "%d/%d "%(dbydate,dbymeld)
	#					else:
	#						s2 += "%d/_ "%(dbydate)
	##				else:
	#					if dbymeld != None:
	#						s2 += "_/%d "%(dbymeld)
					if dbydate != None or dbymeld != None:
						l += 1
				s += "%d\t"%l
				#print(s+s2)
		
		

class ByDateOfOnset(object):
	def __init__(self):
		self.startdate,self.ndates = 200216,0
		
		self.datasets = {}
		
		self.raw = GenByDateOfOnset()
		self.Cummulate()
		self.Cleanup()
		self.Deltas()
#		self.raw.Test()
		
		self.Plot("onsets_diff")
		self.Plot("meldungs_raw_diff")
		
		self.PlotOverview()
		
		
	def nextDay(self,day):
		y,m,d,f = day//10000,(day//100)%100,day%100,28
		if y%4 == 0:
			f = 29
		days = {1:31,2:f,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31}
		d += 1 
		if days[m] < d:
			d,m = 1,m+1
		if m == 13:
			m,y = 1,y+1
		return y*10000+m*100+d,y,m,d
	
		
	def Cummulate(self):
		maxdate = max(self.raw.dates.keys())
		#print(maxdate,self.raw.dates.keys())
		days = [self.startdate]
		while days[-1] < maxdate:
			days.append(self.nextDay(days[-1])[0])
		self.ndays = len(days)
		# DateIndex
		ddays = {}
		for i,d in enumerate(days):
			ddays[d] = i
		
		print(days)
		print(ddays)
		
		onsets,meldungs,infos = [[0]*self.ndays],[[0]*self.ndays],[]
		rdates,ddates = sorted(self.raw.dates.keys()),{}
		for i,k in enumerate(rdates):
			ddates[k] = i
			onset = list(onsets[-1])
			meldung = list(meldungs[-1])
			dbydates = self.raw.dates[k]["bydate"]
			dbymelds = self.raw.dates[k]["bymeldung"]
			
			for d,l,last, in [(onset,dbydates,onsets),(meldung,dbymelds,meldungs)]:
				for date,n in l.items():
					di = ddays.get(date,None)	# Entry in the list of days
					if di != None:
						if n > 0:
							d[di] = n
					
			onsets.append(onset)
			meldungs.append(meldung)
			
			info = {}
			rinfo = self.raw.dates[k]
			info["scaling"] = rinfo.get("scaling",1)
			info["labtested_n"] = rinfo.get("labtested_n",0)
			infos.append(info)
			
		onsets,meldungs = onsets[1:],meldungs[1:]
		
		
		
		
	# List of Datasets for every date with a report, 
		self.datasets["infos"] = infos
		self.datasets["onsets_raw"] = onsets		# Each date contains entrys for every day between startdate and the last date of reporting
		self.datasets["meldungs_raw"] = meldungs
		self.days = days	# days with data in continous range from startdate
		self.ddays = ddays
		self.dates = rdates	# reporting dates
		self.ddates = ddates
		self.infos = infos
		
	def PrintDataset(self,name):
		print(name)
		for k,d in zip(self.dates,self.datasets[name]):
			print(k,"\t".join(map(str,d)))
		
	def Cleanup(self):
		t1 = time.time()
		for ds,sdname, in [(self.datasets["onsets_raw"],"onsets",)]:
			scale = [x.get("scaling",1) for x in self.datasets["infos"]]
			print(scale)
			perdays = [None]*len(self.days)
			newdata = [None]*len(self.dates)
			for d in range(len(self.dates)):
				newdata[d] = [0]*len(self.days)
				
			for i,day in enumerate(self.days):
				perday = [0]*len(self.dates)
				for j,date in enumerate(self.dates):
					perday[j] = ds[j][i]
				
				# Check monoton
				lv,monoton = perday[0],True
				for p in perday:
					if p < lv:
						monoton = False
						break
					lv = p
				# Do the Cleanup: fix tail: find max -> mv, first index of max --> mi, average over all postions after first max --> mmv, take max(mmv,v[mi-1]) --> fill out (might do weighting on inverse scaling) , last: always count up!
				if not monoton:
					mv = max(perday)
					mi = perday.index(mv)
				# fix tail
				#	print(i,day,"\t",monoton,mv,mi,0,0,"\t",perday)
					if mi < len(perday)-1:
						smv = sum(perday[mi:])
						mmv = int(smv/(1.*(len(perday)-mi)))
						mmv = max(mmv,perday[mi-1])
						for k in range(mi,len(perday)):
							perday[k] = mmv
				# fix monotony
					lv = perday[0]
					for k in range(mi):
						if perday[k] < lv:
						#	vs = perday[max(0,k-1):k]
							perday[k] = lv
						else:
#							vs = perday[k:k+1]
#							lv = int(vs / (1.*len(vs)) )
							lv = perday[k]
				#	print(i,day,"\t",monoton,mv,mi,smv,mmv,"\t",perday)
				perdays[i] = perday
				
			for j in range(len(self.dates)):
				for i in range(len(self.days)):
					newdata[j][i] = perdays[i][j]
			self.datasets[sdname] = newdata
			self.datasets[sdname+"_perday"] = perdays
			
#			self.PrintDataset(sdname)
		
	def Deltas(self):
		for dsname in ["onsets","meldungs_raw"]:
			ds = self.datasets[dsname]
			nds = [None]*len(self.dates)
			diffs = [None]*len(self.dates)
			tdiffs = [None]*len(self.days)
			for j in range(len(self.dates)):
				diffs[j] = [0]*len(self.days)
			for i in range(len(self.days)):
				tdiffs[i] = [0]*len(self.dates)
			for i,day in enumerate(self.days):
				ld = 0
				for j,dates in enumerate(self.dates):
					v = ds[j][i]
					diffs[j][i] = v-ld
					tdiffs[i][j] = v-ld
					ld = v
				
			
			self.datasets[dsname+"_diff"] = diffs
#			self.PrintDataset(dsname+"_diff")
			
	def Plot(self,dsname):
		ds = self.datasets[dsname]
		
		plasma = plt.cm.plasma
		
		fig = plt.figure(1,figsize=(15,12.5),frameon=True)
		fig.subplots_adjust(wspace=0.13,hspace=0.1,left=0.05,right=0.98,top=0.965,bottom=0.05)
		bx = plt.subplot(221)
		ax = plt.subplot(222)
		cx = plt.subplot(223)
		dx = plt.subplot(224)
		
		legend = []
		
		o,p = 1,2
		l = len(ds)
		mds = ds[:-4][o::p]+ds[-4:]	# my dataset
		ids = list(range(o,l-4,p))+[l-4,l-3,l-2,l-1]
		omit = [200319]
		dxl = []
		l = len(mds)
		for i,j,dd in zip(range(len(ids)),ids,mds):
			#j = o+i*p
			if self.dates[j] not in omit:
				dd = dd[:self.ddays[self.dates[j]]+2]
#				c = (1-i/(1.*l),0,i/(1.*l))
				c = plasma( i/(1.*len(ids)-1) )
				a = np.array(dd)
				ma = np.ma.masked_where(a == 0,a)
			#	ax.semilogy( range(len(dd)), ma,color=c,alpha=.7 )
				
				
				dn = self.infos[j]["labtested_n"]-self.infos[j-1]["labtested_n"]
				label = "%d n=%d/%d"%(self.dates[j],sum(dd),dn)
				
				s = a/sum(a)
				if j >= ids[-1]:
					bx.plot(range(len(dd)), ma,color=(0,0,0) ,zorder=0,alpha=.7,label=label,gid="by_onset_%d"%(self.dates[j]) )
					cx.plot(range(len(dd)),s,color=(0,0,0),alpha=.7)
					dx.plot(np.array(range(len(dd)))-(l+j),s,color=(0,0,0),alpha=0.7,zorder=l-j)
				else:
					bx.fill(range(len(dd)), ma,color=c ,zorder=l-j,alpha=.5,label=label)
					cx.fill(range(len(dd)),s,color=c,alpha=.7)
					dx.plot(np.array(range(len(dd)))-(l+j),s,color=c,alpha=.5,zorder=l-j)
				
				
		
		bx.set_xticks(range(len(self.days))[::2])
		bx.set_xticklabels(self.days[::2],rotation=40,horizontalalignment='right')
		cx.set_xticks(range(len(self.days))[::2])
		cx.set_xticklabels(self.days[::2],rotation=40,horizontalalignment='right')
		
		dx.set_xlim(-35,4)
		
		#print(self.datasets.keys(),dsname)
		
		dbyd = self.datasets.get(dsname.split("_")[0]+"_perday",None)
		if dbyd != None:
			for i,dd in enumerate(dbyd):
				c = plasma( i/(1.*len(dbyd)) )
				a = np.array(dd) / max(dd)
			#	b = np.linspace(0,self.ddays[self.dates[i]],1)
				b = np.array(range(len(dd)))-i+self.ddays[self.dates[0]]
				
				ax.plot(b,a,color=c)
				
		ax.set_xlim(-1,40)
		bx.legend(loc=2)
		
		plt.savefig("%s.pdf"%dsname)##
		plt.savefig("%s.svg"%dsname)##
		plt.close()
	
	def PlotOverview(self):
		
		fig = plt.figure(1,figsize=(15,12.5),frameon=True)
		fig.subplots_adjust(wspace=0.13,hspace=0.1,left=0.05,right=0.98,top=0.965,bottom=0.05)
		ax = plt.subplot(211)
		plasma = plt.cm.plasma
	
		mds = self.datasets["onsets"]
		l = len(mds)
		for i,dd in enumerate(self.datasets["onsets"]):
			c = plasma( i/(1.*l-1) )
			if (l-i-1)%7 == 0:
				c = (1,0,1)
			ax.bar(range(len(dd)),dd,zorder=l-i,color=c,alpha=.9)

		l = len(self.datasets["meldungs_raw"])
		for i,dd in enumerate(self.datasets["meldungs_raw"]):
			a1 = np.array(self.datasets["onsets"][-1])
			a2 = np.array(dd)
			c = plt.cm.Greys(i/(1.*l))
			if (l-i-1)%7 == 0:
				c = (.6,0,.6)
			ax.bar(range(len(self.days)),a1+a2,color=c,zorder=-l-i)
				
		plt.savefig("test.pdf")
		plt.close()
		
	def DumpJSON(self,fname="page/script/data.json"):
		ex = {"dates":self.dates,"ddates":self.ddates,"days":self.days,"ddays":self.ddays,"datasets":self.datasets}
		f = open(fname,"w+")
		f.write("data = ")
		json.dump(ex,f)
		f.write(";")
		f.close()
		
		
def main():
	bydate = ByDateOfOnset()
	bydate.DumpJSON()


if __name__=="__main__":
	main()
